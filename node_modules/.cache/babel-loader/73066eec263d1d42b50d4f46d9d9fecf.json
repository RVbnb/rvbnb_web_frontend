{"ast":null,"code":"import _defineProperty from \"/Users/noahfranco/Documents/build-week-four/rvbnb_web_frontend/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"/Users/noahfranco/Documents/build-week-four/rvbnb_web_frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/noahfranco/Documents/build-week-four/rvbnb_web_frontend/src/components/UpdateLandownerForm.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState } from \"react\";\nimport axiosWithAuth from \"../components/utilities/axiosWithAuth\"; // import LandownerForm from \"../components/landowners/LandownerForm.js\";\n\nimport NavBar from \"./NavBar\";\nimport { Button, ButtonDiv, SearchBar, RVHeading } from \"./styling/styled\";\nexport const UpdateLandownerForm = props => {\n  const _useState = useState({\n    location: \"\",\n    description: \"\",\n    price_per_day: \"\"\n  }),\n        _useState2 = _slicedToArray(_useState, 2),\n        edit = _useState2[0],\n        setEdit = _useState2[1];\n\n  const _useState3 = useState(null),\n        _useState4 = _slicedToArray(_useState3, 2),\n        error = _useState4[0],\n        setError = _useState4[1];\n\n  const editFunction = event => {\n    console.log(\"conosle from editFunction\", props);\n    event.preventDefault();\n    axiosWithAuth().put(\"https://rvbnb.herokuapp.com/api/listings/\".concat(props.updateId), edit).then(res => {\n      console.log(\"Res from editFunction\", res);\n      props.history.push(\"/landownerform\"); // getData()\n    }).catch(error => {\n      console.log(error);\n      setError(\"Update Request Failed\");\n    }, []);\n  };\n\n  return React.createElement(React.Fragment, null, React.createElement(NavBar, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }), React.createElement(RVHeading, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, \" Update Listings \"), React.createElement(\"form\", {\n    onSubmit: editFunction,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, React.createElement(ButtonDiv, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, React.createElement(SearchBar, {\n    required: true,\n    type: \"text\",\n    name: \"location\",\n    placeholder: \"enter location\",\n    value: edit.location,\n    onChange: event => setEdit(_objectSpread({}, edit, {\n      location: event.target.value\n    })),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  })), React.createElement(ButtonDiv, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, React.createElement(SearchBar, {\n    required: true,\n    type: \"text\",\n    name: \"description\",\n    placeholder: \"Enter description\",\n    value: edit.description,\n    onChange: event => setEdit(_objectSpread({}, edit, {\n      description: event.target.value\n    })),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  })), React.createElement(ButtonDiv, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, React.createElement(SearchBar, {\n    required: true,\n    type: \"text\",\n    name: \"price_per_day\",\n    placeholder: \"Enter price per day\",\n    value: edit.price_per_day,\n    onChange: event => {\n      setEdit(_objectSpread({}, edit, {\n        price_per_day: event.target.value\n      }));\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  })), React.createElement(Button, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }, \" Update \")), error && React.createElement(\"h3\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, \" \", error, \" \"));\n};\nexport default UpdateLandownerForm;","map":{"version":3,"sources":["/Users/noahfranco/Documents/build-week-four/rvbnb_web_frontend/src/components/UpdateLandownerForm.js"],"names":["React","useState","axiosWithAuth","NavBar","Button","ButtonDiv","SearchBar","RVHeading","UpdateLandownerForm","props","location","description","price_per_day","edit","setEdit","error","setError","editFunction","event","console","log","preventDefault","put","updateId","then","res","history","push","catch","target","value"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\"; \nimport axiosWithAuth from \"../components/utilities/axiosWithAuth\"; \n// import LandownerForm from \"../components/landowners/LandownerForm.js\";\nimport NavBar from \"./NavBar\"\nimport { Button, ButtonDiv, SearchBar, RVHeading} from \"./styling/styled\"\n \nexport const UpdateLandownerForm = props => {\n    \n    const [edit, setEdit] = useState({\n      \n        location: \"\", \n        description: \"\", \n        price_per_day: \"\", \n    })\n\n    const [error, setError] = useState(null)\n\n    \n\n    const editFunction = event => {\n        console.log(\"conosle from editFunction\", props)\n        event.preventDefault() \n        axiosWithAuth()\n        .put(`https://rvbnb.herokuapp.com/api/listings/${props.updateId}`, edit)\n        .then(res => {\n            console.log(\"Res from editFunction\", res)\n            props.history.push(\"/landownerform\")\n            // getData()\n        })\n        .catch(error => {\n            console.log(error)\n            setError(\"Update Request Failed\")\n        }, [])\n        \n    };\n\n   \n    return(\n        <>\n        <NavBar/>\n        <RVHeading> Update Listings </RVHeading>\n        <form onSubmit={editFunction}> \n        <ButtonDiv>\n        <SearchBar required\n        type=\"text\"\n        name=\"location\"\n        placeholder=\"enter location\"\n        value={edit.location}\n        onChange={event => setEdit({\n            ...edit, location: event.target.value\n        })}\n        />\n        </ButtonDiv>\n        <ButtonDiv>\n        <SearchBar required\n        type=\"text\"\n        name=\"description\"\n        placeholder=\"Enter description\"\n        value={edit.description}\n        onChange={event => setEdit({\n            ...edit, description: event.target.value\n        })}\n        />\n        </ButtonDiv>\n        <ButtonDiv>\n        <SearchBar required\n        type=\"text\"\n        name=\"price_per_day\"\n        placeholder=\"Enter price per day\"\n        value={edit.price_per_day}\n        onChange={event => {\n           setEdit({...edit, price_per_day: event.target.value}) \n        }}\n        />\n        </ButtonDiv>\n        <Button> Update </Button>\n        </form>\n        { error && <h3> { error } </h3> }\n        </>\n    )\n}\n\nexport default UpdateLandownerForm; \n"]},"metadata":{},"sourceType":"module"}