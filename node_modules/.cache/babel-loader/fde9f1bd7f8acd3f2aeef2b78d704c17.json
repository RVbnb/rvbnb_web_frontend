{"ast":null,"code":"import _defineProperty from \"/Users/noahfranco/Documents/build-week-four/rvbnb_web_frontend/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"/Users/noahfranco/Documents/build-week-four/rvbnb_web_frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/noahfranco/Documents/build-week-four/rvbnb_web_frontend/src/components/landowners/LandownerForm.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useEffect } from \"react\";\nimport axiosWithAuth from \"../utilities/axiosWithAuth.js\";\nimport LandownersFormCard from \"./LandownersFormCard.js\";\nimport NavBar from \"../NavBar\";\nimport { LandOwnerHeading, Description2, Button, ButtonDiv, SearchBar } from \"../styling/styled\";\n\nconst LandownerForm = props => {\n  console.log(\"landownerform props\", props); // State below is set to add to the listings (.post() state)\n\n  const _useState = useState({\n    location: \"\",\n    description: \"\",\n    price_per_day: \"\",\n    photo: \"\"\n  }),\n        _useState2 = _slicedToArray(_useState, 2),\n        landAdd = _useState2[0],\n        setLandAdd = _useState2[1]; // State below allows land owners to view their listings they created/edited/deleted (.get() state)\n\n\n  const _useState3 = useState([{\n    id: 2,\n    owner_id: 2,\n    location: \"\",\n    description: \"\",\n    price_per_day: \"\",\n    photo: \"\"\n  }]),\n        _useState4 = _slicedToArray(_useState3, 2),\n        viewAdded = _useState4[0],\n        setViewAdded = _useState4[1];\n\n  useEffect(() => {\n    getData();\n  }, [landAdd]);\n\n  const getData = () => {\n    axiosWithAuth().get(\"https://rvbnb.herokuapp.com/api/listings\").then(res => {\n      console.log(\"Data from useEffect on landownerform file\", res);\n      setViewAdded(res.data);\n    }).catch(error => {\n      console.log(error);\n    });\n  };\n\n  const postData = event => {\n    event.preventDefault();\n    axiosWithAuth().post(\"https://rvbnb.herokuapp.com/api/listings\", landAdd).then(res => {\n      console.log(\"Coming to you from postData\", res);\n      setLandAdd({\n        landAdd: res.data\n      });\n    }).catch(error => {\n      console.log(\"error from landownerform postData\", error);\n    }, []);\n  };\n\n  const handleChange = event => {\n    setLandAdd(_objectSpread({}, landAdd, {\n      [event.target.name]: event.target.value\n    }));\n  };\n\n  return React.createElement(React.Fragment, null, React.createElement(NavBar, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }), React.createElement(LandOwnerHeading, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, \" Hello Land Owner! \"), React.createElement(Description2, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, \"Please use the following form to create your listing! Please remember to be accurate in your location and descriptions as this will help match you with the perfect renter.\"), React.createElement(\"form\", {\n    onSubmit: postData,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, React.createElement(ButtonDiv, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, React.createElement(SearchBar, {\n    type: \"text\",\n    name: \"location\",\n    placeholder: \"Enter location\",\n    value: landAdd.location,\n    onChange: handleChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  })), React.createElement(ButtonDiv, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }, React.createElement(SearchBar, {\n    type: \"text\",\n    name: \"price_per_day\",\n    placeholder: \"Please enter how much you would like to charge per day\",\n    value: landAdd.price_per_day,\n    onChange: handleChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  })), React.createElement(ButtonDiv, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  }, React.createElement(SearchBar, {\n    type: \"text\",\n    name: \"description\",\n    placeholder: \"Please enter a description of your land\",\n    value: landAdd.description,\n    onChange: handleChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  })), React.createElement(ButtonDiv, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  }, React.createElement(Button, {\n    type: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114\n    },\n    __self: this\n  }, \" Submit \"))), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117\n    },\n    __self: this\n  }, viewAdded.map(view => React.createElement(LandownersFormCard, {\n    key: view.id,\n    view: view,\n    history: props.history,\n    setUpdateId: props.setUpdateId,\n    setViewAdded: setViewAdded,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119\n    },\n    __self: this\n  }))));\n};\n\nexport default LandownerForm;","map":{"version":3,"sources":["/Users/noahfranco/Documents/build-week-four/rvbnb_web_frontend/src/components/landowners/LandownerForm.js"],"names":["React","useState","useEffect","axiosWithAuth","LandownersFormCard","NavBar","LandOwnerHeading","Description2","Button","ButtonDiv","SearchBar","LandownerForm","props","console","log","location","description","price_per_day","photo","landAdd","setLandAdd","id","owner_id","viewAdded","setViewAdded","getData","get","then","res","data","catch","error","postData","event","preventDefault","post","handleChange","target","name","value","map","view","history","setUpdateId"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axiosWithAuth from \"../utilities/axiosWithAuth.js\"; \nimport LandownersFormCard from \"./LandownersFormCard.js\";\nimport NavBar from \"../NavBar\"\nimport {\n    LandOwnerHeading,\n    Description2,\n    Button,\n    ButtonDiv,\n    SearchBar,\n      } from \"../styling/styled\"\n\n  const LandownerForm = props => {\n    console.log(\"landownerform props\", props)\n    // State below is set to add to the listings (.post() state)\n    const [landAdd, setLandAdd] = useState({\n\n        location: \"\", \n        description: \"\", \n        price_per_day: \"\", \n        photo: \"\"\n    })\n\n    // State below allows land owners to view their listings they created/edited/deleted (.get() state)\n\n    const [viewAdded, setViewAdded] = useState([\n        {\n            \n        id: 2,\n        owner_id: 2,     \n        location: \"\", \n        description: \"\", \n        price_per_day: \"\",\n        photo: \"\"\n        }\n    ])\n\n    useEffect(() => {\n        getData()\n    }, [landAdd])\n\n\n    const getData = () => {\n        axiosWithAuth()\n        .get(\"https://rvbnb.herokuapp.com/api/listings\")\n        .then(res => {\n            console.log(\"Data from useEffect on landownerform file\", res)\n            setViewAdded(res.data)\n        })\n        .catch(error => {\n            console.log(error)\n        })\n    }\n\n    const postData = event => {\n        event.preventDefault()\n        axiosWithAuth()\n        .post(\"https://rvbnb.herokuapp.com/api/listings\", landAdd)\n        .then(res => {\n            console.log(\"Coming to you from postData\", res)\n            setLandAdd({landAdd: res.data})\n        })\n        .catch(error => {\n            console.log(\"error from landownerform postData\", error)\n        }, [])\n    } \n\n    const handleChange = event => {\n        setLandAdd({\n            ...landAdd, \n            [event.target.name]: event.target.value\n        })\n    }\n\n    return(\n        <>\n        <NavBar/>\n        <LandOwnerHeading> Hello Land Owner! </LandOwnerHeading>\n        <Description2>\n        Please use the following form to create your listing! Please remember to\n        be accurate in your location and descriptions as this will help match\n        you with the perfect renter.\n        </Description2>\n\n        <form onSubmit={postData}> \n        <ButtonDiv>\n        <SearchBar \n        type=\"text\"\n        name=\"location\"\n        placeholder=\"Enter location\"\n        value={landAdd.location}\n        onChange={handleChange}\n        />\n        </ButtonDiv>\n        <ButtonDiv>\n       <SearchBar\n       type=\"text\"\n       name=\"price_per_day\"\n       placeholder=\"Please enter how much you would like to charge per day\"\n       value={landAdd.price_per_day}\n       onChange={handleChange}\n       />\n       </ButtonDiv>\n       <ButtonDiv>\n        <SearchBar \n        type=\"text\"\n        name=\"description\"\n        placeholder=\"Please enter a description of your land\"\n        value={landAdd.description}\n        onChange={handleChange}\n        />\n    </ButtonDiv>\n        <ButtonDiv>\n        <Button type=\"submit\"> Submit </Button> \n        </ButtonDiv>\n        </form>\n        <div> \n        { viewAdded.map(view => (\n            <LandownersFormCard key={view.id} view={view} history={props.history} setUpdateId={props.setUpdateId} setViewAdded={setViewAdded}  />\n        ))}\n        </div>\n        </>\n    )\n}\n\nexport default LandownerForm; \n"]},"metadata":{},"sourceType":"module"}